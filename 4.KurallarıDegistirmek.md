# Kuralları Değiştirmek

Diyelim ki alttaki gibi bir kural tanımımız var. Echo-request yerine echo-reply yazmak istiyoruz diyelim.

```bash
iptables -A INPUT -p icmp --icmp-type echo-request -j DROP
```
Bunun için  bu kuralın satır numarasını öğreniyoruz. Num sütununda 2. satır bizim kuralımızı gösteriyor.


```bash
iptables -L -n -v  --line-numbers

#sonuç

Chain INPUT (policy ACCEPT 16 packets, 3617 bytes)
num   pkts bytes target     prot opt in     out     source               destination         
1        0     0 DROP       tcp  --  *      *       172.24.10.11         0.0.0.0/0            multiport dports 22,23
2        0     0 DROP       icmp --  *      *       0.0.0.0/0            0.0.0.0/0            icmptype 8

Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         

Chain OUTPUT (policy ACCEPT 281 packets, 23840 bytes)
num   pkts bytes target     prot opt in     out     source               destination 

```


Bu kuralı değiştirmek için -R (replace) kullanıyoruz ve INPUT direction dan sonra satır numarası yazıyoruz.


```bash
iptables -R INPUT 1 -p icmp --icmp-type echo-reply -j DROP
```

Daha sonra kontrol ediyoruz. "icmptype"ın 8'den 0'a değiştiğini görebiliriz.

```bash
iptables -L -n -v  --line-numbers

#sonuç
Chain INPUT (policy ACCEPT 16 packets, 3617 bytes)
num   pkts bytes target     prot opt in     out     source               destination         
1        0     0 DROP       tcp  --  *      *       172.24.10.11         0.0.0.0/0            multiport dports 22,23
2        0     0 DROP       icmp --  *      *       0.0.0.0/0            0.0.0.0/0            icmptype 0

Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         

Chain OUTPUT (policy ACCEPT 281 packets, 23840 bytes)
num   pkts bytes target     prot opt in     out     source               destination
```

Alttaki komutta iptables'da liste aldığımızda tabloda ilgili kural ile alakalı iki makina asında giden paket sayısını gösteren pkts sütununun değerini sıfırlamaya yarar.

```bash
iptables -L INPUT -Z
```

